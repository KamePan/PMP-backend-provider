<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="cn.edu.ecnu.dao.TeacherMapper" >
  <resultMap id="BaseResultMap" type="cn.edu.ecnu.domain.Teacher" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    <id column="tid" property="tid" jdbcType="VARCHAR" />
    <result column="email" property="email" jdbcType="VARCHAR" />
    <result column="sex" property="sex" jdbcType="BIT" />
    <result column="department" property="department" jdbcType="VARCHAR" />
    <result column="jobtitle" property="jobtitle" jdbcType="VARCHAR" />
    <result column="tdescription" property="description" jdbcType="VARCHAR" />
    <result column="username" property="username" jdbcType="VARCHAR" />
    <collection property="projectsToJudge" ofType="cn.edu.ecnu.domain.Project">
      <id column="jpid" property="pid" jdbcType="VARCHAR" />
      <result column="jprojectname" property="projectname" jdbcType="VARCHAR" />
      <result column="jpdescription" property="description" jdbcType="VARCHAR" />
      <result column="jtype" property="type" jdbcType="VARCHAR" />
      <result column="jstage" property="stage" jdbcType="INTEGER" />
      <result column="jmidmark" property="midmark" jdbcType="INTEGER" />
      <result column="jfinalmark" property="finalmark" jdbcType="INTEGER" />
      <result column="jadvisorid" property="advisorid" jdbcType="VARCHAR" />
      <result column="jteamid" property="teamid" jdbcType="VARCHAR" />
    </collection>
    <collection property="projectsToInstruct" ofType="cn.edu.ecnu.domain.Project">
      <id column="ipid" property="pid" jdbcType="VARCHAR" />
      <result column="iprojectname" property="projectname" jdbcType="VARCHAR" />
      <result column="ipdescription" property="description" jdbcType="VARCHAR" />
      <result column="itype" property="type" jdbcType="VARCHAR" />
      <result column="istage" property="stage" jdbcType="INTEGER" />
      <result column="imidmark" property="midmark" jdbcType="INTEGER" />
      <result column="ifinalmark" property="finalmark" jdbcType="INTEGER" />
      <result column="iadvisorid" property="advisorid" jdbcType="VARCHAR" />
      <result column="iteamid" property="teamid" jdbcType="VARCHAR" />
    </collection>
    <collection property="messages" ofType="cn.edu.ecnu.domain.Message">
      <id column="mid" property="mid" />
      <result column="content" property="content" />
      <result column="tid" property="uid"/>
      <result column="messagetime" property="messagetime"/>
    </collection>
  </resultMap>
  <sql id="Example_Where_Clause" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    <where >
      <foreach collection="oredCriteria" item="criteria" separator="or" >
        <if test="criteria.valid" >
          <trim prefix="(" suffix=")" prefixOverrides="and" >
            <foreach collection="criteria.criteria" item="criterion" >
              <choose >
                <when test="criterion.noValue" >
                  and ${criterion.condition}
                </when>
                <when test="criterion.singleValue" >
                  and ${criterion.condition} #{criterion.value}
                </when>
                <when test="criterion.betweenValue" >
                  and ${criterion.condition} #{criterion.value} and #{criterion.secondValue}
                </when>
                <when test="criterion.listValue" >
                  and ${criterion.condition}
                  <foreach collection="criterion.value" item="listItem" open="(" close=")" separator="," >
                    #{listItem}
                  </foreach>
                </when>
              </choose>
            </foreach>
          </trim>
        </if>
      </foreach>
    </where>
  </sql>
  <sql id="Update_By_Example_Where_Clause" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    <where >
      <foreach collection="example.oredCriteria" item="criteria" separator="or" >
        <if test="criteria.valid" >
          <trim prefix="(" suffix=")" prefixOverrides="and" >
            <foreach collection="criteria.criteria" item="criterion" >
              <choose >
                <when test="criterion.noValue" >
                  and ${criterion.condition}
                </when>
                <when test="criterion.singleValue" >
                  and ${criterion.condition} #{criterion.value}
                </when>
                <when test="criterion.betweenValue" >
                  and ${criterion.condition} #{criterion.value} and #{criterion.secondValue}
                </when>
                <when test="criterion.listValue" >
                  and ${criterion.condition}
                  <foreach collection="criterion.value" item="listItem" open="(" close=")" separator="," >
                    #{listItem}
                  </foreach>
                </when>
              </choose>
            </foreach>
          </trim>
        </if>
      </foreach>
    </where>
  </sql>
  <sql id="Base_Column_List" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    teacher.tid, email, sex, department, jobtitle, teacher.description AS tdescription, username,
    jp.pid AS jpid, jp.projectname AS jprojectname, jp.description AS jpdescription, jp.type AS jtype, jp.stage AS jstage,
    jp.midmark AS jmidmark, jp.finalmark AS jfinalmark, jp.advisorid AS jadvisorid, jp.teamid AS jteamid,
    ip.pid AS ipid, ip.projectname AS iprojectname, ip.description AS ipdescription, ip.type AS itype, ip.stage AS istage,
    ip.midmark AS imidmark, ip.finalmark AS ifinalmark, ip.advisorid AS iadvisorid, ip.teamid AS iteamid,
    mid, content, messagetime
  </sql>
  <select id="selectByExample" resultMap="BaseResultMap" parameterType="cn.edu.ecnu.domain.TeacherExample" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    select
    <if test="distinct" >
      distinct
    </if>
    <include refid="Base_Column_List" />
    from
    (((teacher left outer join project as ip on ip.advisorid = tid)
    left outer join judge_teacher_project as tp on tp.tid = teacher.tid)
    left outer join project as jp on jp.pid = tp.pid)
    left outer join message as m on m.uid = teacher.tid
    <if test="_parameter != null" >
      <include refid="Example_Where_Clause" />
    </if>
    <if test="orderByClause != null" >
      order by ${orderByClause}
    </if>
  </select>
  <select id="selectByPrimaryKey" resultMap="BaseResultMap" parameterType="java.lang.String" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    select 
    <include refid="Base_Column_List" />
    from
    (((teacher left outer join project as ip on ip.advisorid = tid)
    left outer join judge_teacher_project as tp on tp.tid = teacher.tid)
    left outer join project as jp on jp.pid = tp.pid)
    left outer join message as m on m.uid = teacher.tid
    where teacher.tid = #{tid,jdbcType=VARCHAR}
  </select>
  <delete id="deleteByPrimaryKey" parameterType="java.lang.String" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    delete from teacher
    where tid = #{tid,jdbcType=VARCHAR}
  </delete>
  <delete id="deleteByExample" parameterType="cn.edu.ecnu.domain.TeacherExample" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    delete from teacher
    <if test="_parameter != null" >
      <include refid="Example_Where_Clause" />
    </if>
  </delete>
  <insert id="insert" parameterType="cn.edu.ecnu.domain.Teacher" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    insert into teacher (tid, email, sex, 
      department, jobtitle, description, 
      username)
    values (#{tid,jdbcType=VARCHAR}, #{email,jdbcType=VARCHAR}, #{sex,jdbcType=BIT}, 
      #{department,jdbcType=VARCHAR}, #{jobtitle,jdbcType=VARCHAR}, #{description,jdbcType=VARCHAR}, 
      #{username,jdbcType=VARCHAR})
  </insert>
  <insert id="insertSelective" parameterType="cn.edu.ecnu.domain.Teacher" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    insert into teacher
    <trim prefix="(" suffix=")" suffixOverrides="," >
      <if test="tid != null" >
        tid,
      </if>
      <if test="email != null" >
        email,
      </if>
      <if test="sex != null" >
        sex,
      </if>
      <if test="department != null" >
        department,
      </if>
      <if test="jobtitle != null" >
        jobtitle,
      </if>
      <if test="description != null" >
        description,
      </if>
      <if test="username != null" >
        username,
      </if>
    </trim>
    <trim prefix="values (" suffix=")" suffixOverrides="," >
      <if test="tid != null" >
        #{tid,jdbcType=VARCHAR},
      </if>
      <if test="email != null" >
        #{email,jdbcType=VARCHAR},
      </if>
      <if test="sex != null" >
        #{sex,jdbcType=BIT},
      </if>
      <if test="department != null" >
        #{department,jdbcType=VARCHAR},
      </if>
      <if test="jobtitle != null" >
        #{jobtitle,jdbcType=VARCHAR},
      </if>
      <if test="description != null" >
        #{description,jdbcType=VARCHAR},
      </if>
      <if test="username != null" >
        #{username,jdbcType=VARCHAR},
      </if>
    </trim>
  </insert>
  <select id="countByExample" parameterType="cn.edu.ecnu.domain.TeacherExample" resultType="java.lang.Integer" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    select count(*) from teacher
    <if test="_parameter != null" >
      <include refid="Example_Where_Clause" />
    </if>
  </select>
  <update id="updateByExampleSelective" parameterType="map" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    update teacher
    <set >
      <if test="record.tid != null" >
        tid = #{record.tid,jdbcType=VARCHAR},
      </if>
      <if test="record.email != null" >
        email = #{record.email,jdbcType=VARCHAR},
      </if>
      <if test="record.sex != null" >
        sex = #{record.sex,jdbcType=BIT},
      </if>
      <if test="record.department != null" >
        department = #{record.department,jdbcType=VARCHAR},
      </if>
      <if test="record.jobtitle != null" >
        jobtitle = #{record.jobtitle,jdbcType=VARCHAR},
      </if>
      <if test="record.description != null" >
        description = #{record.description,jdbcType=VARCHAR},
      </if>
      <if test="record.username != null" >
        username = #{record.username,jdbcType=VARCHAR},
      </if>
    </set>
    <if test="_parameter != null" >
      <include refid="Update_By_Example_Where_Clause" />
    </if>
  </update>
  <update id="updateByExample" parameterType="map" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    update teacher
    set tid = #{record.tid,jdbcType=VARCHAR},
      email = #{record.email,jdbcType=VARCHAR},
      sex = #{record.sex,jdbcType=BIT},
      department = #{record.department,jdbcType=VARCHAR},
      jobtitle = #{record.jobtitle,jdbcType=VARCHAR},
      description = #{record.description,jdbcType=VARCHAR},
      username = #{record.username,jdbcType=VARCHAR}
    <if test="_parameter != null" >
      <include refid="Update_By_Example_Where_Clause" />
    </if>
  </update>
  <update id="updateByPrimaryKeySelective" parameterType="cn.edu.ecnu.domain.Teacher" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    update teacher
    <set >
      <if test="email != null" >
        email = #{email,jdbcType=VARCHAR},
      </if>
      <if test="sex != null" >
        sex = #{sex,jdbcType=BIT},
      </if>
      <if test="department != null" >
        department = #{department,jdbcType=VARCHAR},
      </if>
      <if test="jobtitle != null" >
        jobtitle = #{jobtitle,jdbcType=VARCHAR},
      </if>
      <if test="description != null" >
        description = #{description,jdbcType=VARCHAR},
      </if>
      <if test="username != null" >
        username = #{username,jdbcType=VARCHAR},
      </if>
    </set>
    where tid = #{tid,jdbcType=VARCHAR}
  </update>
  <update id="updateByPrimaryKey" parameterType="cn.edu.ecnu.domain.Teacher" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    update teacher
    set email = #{email,jdbcType=VARCHAR},
      sex = #{sex,jdbcType=BIT},
      department = #{department,jdbcType=VARCHAR},
      jobtitle = #{jobtitle,jdbcType=VARCHAR},
      description = #{description,jdbcType=VARCHAR},
      username = #{username,jdbcType=VARCHAR}
    where tid = #{tid,jdbcType=VARCHAR}
  </update>
</mapper>